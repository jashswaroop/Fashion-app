{% extends "modern_base.html" %}

{% block title %}Fashion Style Questionnaire - Fashion Recommendation App{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50">
    <!-- Hero Section -->
    <div class="bg-gradient-to-r from-pink-500 via-purple-600 to-indigo-600 text-white py-16">
        <div class="max-w-6xl mx-auto px-6 text-center">
            <h1 class="text-5xl font-bold mb-4">
                <i class="fas fa-clipboard-list mr-4 text-6xl"></i>
                Fashion Style Questionnaire
            </h1>
            <p class="text-xl opacity-90 max-w-3xl mx-auto">
                Help us understand your unique style preferences to provide personalized outfit recommendations with shopping links!
            </p>
            <div class="mt-8 flex justify-center space-x-4">
                <div class="bg-white bg-opacity-20 px-4 py-2 rounded-full">
                    <i class="fas fa-user mr-2"></i>Personalized
                </div>
                <div class="bg-white bg-opacity-20 px-4 py-2 rounded-full">
                    <i class="fas fa-shopping-bag mr-2"></i>Shoppable
                </div>
                <div class="bg-white bg-opacity-20 px-4 py-2 rounded-full">
                    <i class="fas fa-magic mr-2"></i>AI-Powered
                </div>
            </div>
        </div>
    </div>

    <div class="max-w-6xl mx-auto px-6 py-12">

        <form method="POST" action="{{ url_for('submit_fashion_preferences') }}" id="fashionQuestionnaireForm" class="space-y-8">
            <!-- Personal Information Section -->
            <div class="card-3d bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                <div class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6">
                    <h3 class="text-2xl font-bold flex items-center">
                        <i class="fas fa-id-card mr-4 text-3xl"></i>
                        Personal Information
                    </h3>
                    <p class="mt-2 opacity-90">Help us personalize your recommendations</p>
                </div>
                <div class="p-8">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Gender</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200" name="gender" required>
                                <option value="">Select your gender</option>
                                <option value="male">ğŸ‘¨ Male</option>
                                <option value="female">ğŸ‘© Female</option>
                                <option value="non-binary">ğŸ³ï¸â€âš§ï¸ Non-binary</option>
                                <option value="prefer-not-to-say">ğŸ¤ Prefer not to say</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Age Range</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200" name="age_range">
                                <option value="">Select your age range</option>
                                <option value="18-24">18-24</option>
                                <option value="25-34">25-34</option>
                                <option value="35-44">35-44</option>
                                <option value="45-54">45-54</option>
                                <option value="55-64">55-64</option>
                                <option value="65+">65+</option>
                            </select>
                        </div>
                    </div>
                </div>
<<<<<<< HEAD
            </div>

            <!-- Lifestyle Section -->
            <div class="card-3d bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                <div class="bg-gradient-to-r from-pink-500 to-purple-600 text-white p-6">
                    <h3 class="text-2xl font-bold flex items-center">
                        <i class="fas fa-user mr-4 text-3xl"></i>
                        Lifestyle & Work Environment
                    </h3>
                    <p class="mt-2 opacity-90">Tell us about your daily life and work style</p>
                </div>
                <div class="p-8">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">What best describes your lifestyle?</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors duration-200" name="lifestyle" required>
                                <option value="">Select your lifestyle</option>
                                <option value="professional">ğŸ¢ Professional/Corporate</option>
                                <option value="creative">ğŸ¨ Creative/Artistic</option>
                                <option value="active">ğŸƒâ€â™€ï¸ Active/Sporty</option>
                                <option value="casual">ğŸ˜Œ Casual/Relaxed</option>
                                <option value="social">ğŸ‰ Social/Outgoing</option>
                            </select>
=======
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label" for="gender">Gender</label>
                        <select class="form-select" name="gender" id="gender" required>
                            <option value="">Select your gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label" for="age_range">Age Range</label>
                        <select class="form-select" name="age_range" id="age_range" required>
                            <option value="">Select your age range</option>
                            <option value="18-24">18-24</option>
                            <option value="25-34">25-34</option>
                            <option value="35-44">35-44</option>
                            <option value="45-54">45-54</option>
                            <option value="55+">55+</option>
                        </select>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Social Activities (Select all that apply)</label>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="social_activities" value="networking" id="networking">
                                <label class="form-check-label" for="networking">Networking Events</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="social_activities" value="parties" id="parties">
                                <label class="form-check-label" for="parties">Parties/Celebrations</label>
                            </div>
>>>>>>> f6a6641ffa428efe1e936d13705354170710931c
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Work Environment</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors duration-200" name="work_environment" required>
                                <option value="">Select work environment</option>
                                <option value="corporate">ğŸ¢ Corporate Office</option>
                                <option value="business">ğŸ‘” Business Casual</option>
                                <option value="creative">ğŸ¨ Creative/Casual</option>
                                <option value="remote">ğŸ  Work from Home</option>
                                <option value="retail">ğŸ‘¥ Customer-Facing</option>
                                <option value="other">ğŸ“‹ Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="mt-8">
                        <label class="block text-sm font-semibold text-gray-700 mb-4">Social Activities (Select all that apply)</label>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="space-y-3">
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-pink-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="social_activities" value="networking" class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">
                                    <span class="ml-3 text-gray-700">ğŸ¤ Networking Events</span>
                                </label>
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-pink-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="social_activities" value="parties" class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">
                                    <span class="ml-3 text-gray-700">ğŸ‰ Parties/Celebrations</span>
                                </label>
                            </div>
                            <div class="space-y-3">
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-pink-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="social_activities" value="dining" class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">
                                    <span class="ml-3 text-gray-700">ğŸ½ï¸ Fine Dining</span>
                                </label>
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-pink-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="social_activities" value="casual_hangouts" class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">
                                    <span class="ml-3 text-gray-700">â˜• Casual Hangouts</span>
                                </label>
                            </div>
                            <div class="space-y-3">
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-pink-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="social_activities" value="fitness" class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">
                                    <span class="ml-3 text-gray-700">ğŸ‹ï¸â€â™€ï¸ Fitness/Sports</span>
                                </label>
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-pink-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="social_activities" value="art_events" class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">
                                    <span class="ml-3 text-gray-700">ğŸ­ Art/Cultural Events</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Style Preferences Section -->
            <div class="card-3d bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                <div class="bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-6">
                    <h3 class="text-2xl font-bold flex items-center">
                        <i class="fas fa-palette mr-4 text-3xl"></i>
                        Style Preferences
                    </h3>
                    <p class="mt-2 opacity-90">Define your unique fashion personality</p>
                </div>
                <div class="p-8">
                    <div class="mb-8">
                        <label class="block text-sm font-semibold text-gray-700 mb-4">Style Inspiration (Select all that apply)</label>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="space-y-3">
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-purple-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="style_inspiration" value="classic" class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                                    <span class="ml-3 text-gray-700">ğŸ‘” Classic/Timeless</span>
                                </label>
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-purple-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="style_inspiration" value="trendy" class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                                    <span class="ml-3 text-gray-700">âœ¨ Trendy/Fashion-Forward</span>
                                </label>
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-purple-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="style_inspiration" value="bohemian" class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                                    <span class="ml-3 text-gray-700">ğŸŒ¸ Bohemian/Free-Spirited</span>
                                </label>
                            </div>
                            <div class="space-y-3">
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-purple-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="style_inspiration" value="minimalist" class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                                    <span class="ml-3 text-gray-700">âšª Minimalist/Clean</span>
                                </label>
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-purple-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="style_inspiration" value="edgy" class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                                    <span class="ml-3 text-gray-700">âš¡ Edgy/Bold</span>
                                </label>
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-purple-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="style_inspiration" value="romantic" class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                                    <span class="ml-3 text-gray-700">ğŸ’• Romantic/Feminine</span>
                                </label>
                            </div>
                            <div class="space-y-3">
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-purple-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="style_inspiration" value="sporty" class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                                    <span class="ml-3 text-gray-700">ğŸƒâ€â™€ï¸ Sporty/Athletic</span>
                                </label>
                                <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-purple-50 transition-colors duration-200 cursor-pointer">
                                    <input type="checkbox" name="style_inspiration" value="vintage" class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                                    <span class="ml-3 text-gray-700">ğŸ•°ï¸ Vintage/Retro</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Preferred Clothing Fit</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors duration-200" name="clothing_fit" required>
                                <option value="">Select preferred fit</option>
                                <option value="fitted">âœ‚ï¸ Fitted/Tailored</option>
                                <option value="regular">ğŸ“ Regular/Standard</option>
                                <option value="relaxed">ğŸ›‹ï¸ Relaxed/Loose</option>
                                <option value="oversized">ğŸ“¦ Oversized</option>
                                <option value="varies">ğŸ”„ Varies by Item</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Fashion Risk Tolerance</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors duration-200" name="fashion_risk" required>
                                <option value="">Select risk level</option>
                                <option value="conservative">ğŸ›¡ï¸ Conservative - Stick to classics</option>
                                <option value="moderate">âš–ï¸ Moderate - Some trends, mostly safe</option>
                                <option value="adventurous">ğŸš€ Adventurous - Love trying new trends</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6 mt-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Comfort vs Style Priority</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors duration-200" name="comfort_vs_style" required>
                                <option value="">Select priority</option>
                                <option value="comfort">ğŸ›‹ï¸ Comfort First</option>
                                <option value="balanced">âš–ï¸ Balanced</option>
                                <option value="style">âœ¨ Style First</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Seasonal Preference</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors duration-200" name="seasonal_preference">
                                <option value="all_seasons">ğŸŒ All Seasons</option>
                                <option value="spring_summer">ğŸŒ¸ Spring/Summer Focus</option>
                                <option value="fall_winter">ğŸ‚ Fall/Winter Focus</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Color Preferences Section -->
            <div class="card-3d bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                <div class="bg-gradient-to-r from-indigo-500 to-blue-600 text-white p-6">
                    <h3 class="text-2xl font-bold flex items-center">
                        <i class="fas fa-paint-brush mr-4 text-3xl"></i>
                        Color Preferences
                    </h3>
                    <p class="mt-2 opacity-90">Choose your favorite colors to wear</p>
                </div>
                <div class="p-8">
                    <div class="mb-8">
                        <label class="block text-sm font-semibold text-gray-700 mb-4">Preferred Colors (Select all that apply)</label>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="black" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-black rounded-full mr-2"></span>Black
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="white" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-white border border-gray-300 rounded-full mr-2"></span>White
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="gray" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-gray-500 rounded-full mr-2"></span>Gray
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="navy" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-blue-900 rounded-full mr-2"></span>Navy
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="blue" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-blue-500 rounded-full mr-2"></span>Blue
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="green" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-green-500 rounded-full mr-2"></span>Green
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="teal" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-teal-500 rounded-full mr-2"></span>Teal
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="purple" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-purple-500 rounded-full mr-2"></span>Purple
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="red" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-red-500 rounded-full mr-2"></span>Red
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="pink" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-pink-500 rounded-full mr-2"></span>Pink
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="orange" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-orange-500 rounded-full mr-2"></span>Orange
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="yellow" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-yellow-500 rounded-full mr-2"></span>Yellow
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="brown" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-amber-800 rounded-full mr-2"></span>Brown
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="beige" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-amber-200 rounded-full mr-2"></span>Beige
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="camel" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-yellow-700 rounded-full mr-2"></span>Camel
                                </span>
                            </label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="preferred_colors" value="metallics" class="w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                                <span class="ml-3 text-gray-700 flex items-center">
                                    <span class="w-4 h-4 bg-gradient-to-r from-yellow-400 to-gray-400 rounded-full mr-2"></span>Metallics
                                </span>
                            </label>
                        </div>
                    </div>

                    <div class="mt-8">
                        <label class="block text-sm font-semibold text-gray-700 mb-4">Colors to Avoid (Select all that apply)</label>
                        <div class="grid md:grid-cols-3 gap-4">
                            <label class="flex items-center p-3 bg-red-50 rounded-lg hover:bg-red-100 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="avoided_colors" value="bright_yellow" class="w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500">
                                <span class="ml-3 text-gray-700">âš ï¸ Bright Yellow</span>
                            </label>
                            <label class="flex items-center p-3 bg-red-50 rounded-lg hover:bg-red-100 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="avoided_colors" value="neon_colors" class="w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500">
                                <span class="ml-3 text-gray-700">ğŸŒˆ Neon Colors</span>
                            </label>
                            <label class="flex items-center p-3 bg-red-50 rounded-lg hover:bg-red-100 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="avoided_colors" value="pastels" class="w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500">
                                <span class="ml-3 text-gray-700">ğŸŒ¸ Pastels</span>
                            </label>
                            <label class="flex items-center p-3 bg-red-50 rounded-lg hover:bg-red-100 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="avoided_colors" value="earth_tones" class="w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500">
                                <span class="ml-3 text-gray-700">ğŸŒ Earth Tones</span>
                            </label>
                            <label class="flex items-center p-3 bg-red-50 rounded-lg hover:bg-red-100 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="avoided_colors" value="jewel_tones" class="w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500">
                                <span class="ml-3 text-gray-700">ğŸ’ Jewel Tones</span>
                            </label>
                            <label class="flex items-center p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors duration-200 cursor-pointer">
                                <input type="checkbox" name="avoided_colors" value="none" class="w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500">
                                <span class="ml-3 text-gray-700">âœ… None - Open to All Colors</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Continue button for next section -->
            <div class="text-center mt-12">
                <button type="button" class="btn-3d bg-gradient-to-r from-pink-500 to-purple-600 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:from-pink-600 hover:to-purple-700 transition-all duration-200 shadow-lg" onclick="showNextSection()">
                    Continue to Shopping Preferences
                    <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>

            <!-- Shopping Preferences Section (Initially Hidden) -->
            <div class="card-3d bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100" id="shoppingSection" style="display: none;">
                <div class="bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6">
                    <h3 class="text-2xl font-bold flex items-center">
                        <i class="fas fa-shopping-bag mr-4 text-3xl"></i>
                        Shopping & Budget Preferences
                    </h3>
                    <p class="mt-2 opacity-90">Tell us about your shopping habits and budget</p>
                </div>
                <div class="p-8">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Budget per Item</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors duration-200" name="budget_per_item" required>
                                <option value="">Select budget range</option>
                                <option value="under_25">ğŸ’° Under $25</option>
                                <option value="25_50">ğŸ’°ğŸ’° $25 - $50</option>
                                <option value="50_100">ğŸ’°ğŸ’°ğŸ’° $50 - $100</option>
                                <option value="100_200">ğŸ’°ğŸ’°ğŸ’°ğŸ’° $100 - $200</option>
                                <option value="over_200">ğŸ’ Over $200</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Shopping Frequency</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors duration-200" name="shopping_frequency">
                                <option value="weekly">ğŸ›ï¸ Weekly</option>
                                <option value="monthly">ğŸ“… Monthly</option>
                                <option value="seasonally">ğŸŒ¸ Seasonally</option>
                                <option value="rarely">â° Rarely</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6 mt-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Brand Preference</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors duration-200" name="brand_preference">
                                <option value="no_preference">ğŸ¤·â€â™€ï¸ No Preference</option>
                                <option value="designer">ğŸ‘‘ Designer Brands</option>
                                <option value="mid_range">â­ Mid-Range Brands</option>
                                <option value="budget">ğŸ’ Budget-Friendly</option>
                                <option value="sustainable">ğŸŒ± Sustainable Brands</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Sustainability Importance</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors duration-200" name="sustainability_importance">
                                <option value="very_important">ğŸŒ Very Important</option>
                                <option value="important">ğŸŒ¿ Important</option>
                                <option value="somewhat">ğŸŒ± Somewhat Important</option>
                                <option value="not_much">ğŸ˜ Not Very Important</option>
                                <option value="not_important">âŒ Not Important</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Submit Button (Initially Hidden) -->
            <div class="text-center mt-12" id="submitSection" style="display: none;">
                <button type="submit" class="btn-3d bg-gradient-to-r from-green-500 to-emerald-600 text-white px-12 py-4 rounded-xl text-xl font-bold hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-lg transform hover:scale-105" onclick="console.log('Submit button clicked')">
                    <i class="fas fa-magic mr-3 text-2xl"></i>
                    Get My Personalized Style Recommendations
                </button>
                <p class="mt-4 text-gray-600">âœ¨ Your personalized fashion journey awaits!</p>
            </div>

            <!-- Debug: Always visible submit button for testing -->
            <div class="text-center mt-8 p-6 bg-yellow-50 rounded-xl border border-yellow-200">
                <p class="text-yellow-800 font-semibold mb-4">ğŸ”§ Development Testing</p>
                <div class="space-y-3">
                    <button type="button" class="btn-3d bg-yellow-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-yellow-600 transition-colors duration-200" onclick="submitFormDirectly()">
                        ğŸ”§ Debug: Submit Form Now
                    </button>
                    <br>
                    <a href="{{ url_for('submit_fashion_preferences') }}" class="btn-3d bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-600 transition-colors duration-200 inline-block">
                        ğŸ”— Test Route Direct Link
                    </a>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
function showNextSection() {
    document.getElementById('shoppingSection').style.display = 'block';
    document.getElementById('submitSection').style.display = 'block';

    // Scroll to the shopping section
    document.getElementById('shoppingSection').scrollIntoView({
        behavior: 'smooth'
    });
}

function submitFormDirectly() {
    console.log('Direct form submission triggered');

    // Set default values for required fields if they're empty
    const requiredDefaults = {
        'lifestyle': 'professional',
        'work_environment': 'corporate',
        'clothing_fit': 'fitted',
        'budget_per_item': '100_200',
        'fashion_risk': 'moderate'
    };

    Object.keys(requiredDefaults).forEach(fieldName => {
        const field = document.querySelector(`[name="${fieldName}"]`);
        if (field && !field.value) {
            field.value = requiredDefaults[fieldName];
            console.log(`Set default value for ${fieldName}: ${requiredDefaults[fieldName]}`);
        }
    });

    // Submit the form
    console.log('Submitting form...');
    document.getElementById('fashionQuestionnaireForm').submit();
}

// Form validation
document.getElementById('fashionQuestionnaireForm').addEventListener('submit', function(e) {
    console.log('Form submission attempted');

    // Check only the most essential fields
    const essentialFields = ['lifestyle', 'work_environment', 'clothing_fit', 'budget_per_item', 'fashion_risk'];
    let isValid = true;
    let missingFields = [];

    essentialFields.forEach(fieldName => {
        const field = this.querySelector(`[name="${fieldName}"]`);
        if (field && !field.value) {
            isValid = false;
            missingFields.push(fieldName);
            field.classList.add('is-invalid');
        } else if (field) {
            field.classList.remove('is-invalid');
        }
    });

    if (!isValid) {
        e.preventDefault();
        alert(`Please fill in these required fields: ${missingFields.join(', ')}`);
        console.log('Form validation failed:', missingFields);
    } else {
        console.log('Form validation passed, submitting...');
        // Add a loading indicator
        const submitBtn = this.querySelector('button[type="submit"]');
        if (submitBtn) {
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating Recommendations...';
            submitBtn.disabled = true;
        }
    }
});
</script>
{% endblock %}
